!DOCTYPE html>
<html>
<head>
    <title>Collaborative Whiteboard</title>
</head>
<body>
<canvas id="board" width="800" height="600" style="border:1px solid black;"></canvas>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
const socket = io(); // connect to server

const canvas = document.getElementById('board');
const ctx = canvas.getContext('2d');
let drawing = false;

canvas.addEventListener('mousedown', () => drawing = true);
canvas.addEventListener('mouseup', () => drawing = false);
canvas.addEventListener('mousemove', (e) => {
    if (!drawing) return;
    const x = e.offsetX;
    const y = e.offsetY;

    // Draw locally
    ctx.fillStyle = 'black';
    ctx.fillRect(x, y, 2, 2);

    // Send data to server
    socket.emit('draw', {x, y});
});

// Receive drawing from other clients
socket.on('draw', (data) => {
    ctx.fillStyle = 'red';
    ctx.fillRect(data.x, data.y, 2, 2);
});
</script>
</body>
</html>